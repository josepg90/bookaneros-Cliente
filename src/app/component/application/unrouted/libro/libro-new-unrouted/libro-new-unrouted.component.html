<div class="container my-3">

    <h1><i [ngClass]="oIconService.getIcon('new')"></i>Nuevo Libro
    </h1>
  
    <div class="row justify-content-center">
  
      <form novalidate [formGroup]="oForm" (ngSubmit)="onSubmit()">
  
        <div class="row mb-3">
          <label for="codigo" class="col-sm-2 col-form-label">Código</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="codigo" formControlName="codigo"
              [ngClass]="{'is-valid' : f.codigo.dirty && !(f.codigo.errors?.required || f.codigo.errors?.minlength) }">
            <div *ngIf="f.codigo.dirty && f.codigo.errors?.required" class="text-danger">
              Se debe introducir un código
            </div>
          </div>
        </div>
  
        <div class="row mb-3">
          <label for="titulo" class="col-sm-2 col-form-label">Título</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="titulo" formControlName="titulo"
              [ngClass]="{'is-valid' : f.titulo.dirty && !(f.titulo.errors?.required || f.titulo.errors?.minlength) }">
            <div *ngIf="f.titulo.dirty && f.titulo.errors?.required" class="text-danger">
              Se debe introducir un titulo
            </div>
            <div *ngIf="f.titulo.dirty && f.titulo.errors?.minlength" class="text-danger">
              El titulo introducido es demasiado corto
            </div>
          </div>
        </div>
  
        <div class="row mb-3">
          <label for="autor" class="col-sm-2 col-form-label">Autor</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="autor" formControlName="autor">
          </div>
        </div>
  
        
        <div class="row mb-3">
            <label for="fecha_publicacion" class="col-sm-2 col-form-label">Fecha de publicación</label>
            <div class="col-sm-10">
                <input type="text" name="fecha_publicacion" id="fecha_publicacion" formControlName="fecha_publicacion"
                    class="text ui-widget-content ui-corner-all" />
                <div *ngIf="f.fecha_publicacion.dirty && f.fecha_publicacion.errors?.required" class="text-danger">
                    Se debe introducir una fecha de publicación correcta
                </div>
            </div>
        </div>
  
        <div class="row mb-3">
            <label for="resumen" class="col-sm-2 col-form-label">Resumen</label>
            <div class="col-sm-10">
                <textarea name="resumen" class="form-control" id="resumen" cols="30" rows="10" formControlName="resumen"></textarea>
            </div>
          </div>
  
        <div class="row mb-3">
          <label for="imagen" class="col-sm-2 col-form-label">Imagen</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="imagen" formControlName="imagen">
          </div>
        </div>  
       
        <div class="row mb-3">
          <label for="paginas" class="col-sm-2 col-form-label">Páginas</label>
          <div class="col-sm-10">
            <input type="text" class="form-control" id="paginas" formControlName="paginas">
          </div>
        </div>

        <div class="row mb-3">
            <label for="novedad" class="col-sm-2 col-form-label">Novedad</label>
            <div class="col-sm-10">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" id="novedad" formControlName="novedad">
                    <label class="form-check-label" for="novedad">
                        Novedad
                    </label>
                </div>
            </div>
          </div>
  
  
        <div class="row mb-3">
          <label for="tipolibro" class="col-sm-2 col-form-label">Género</label>
          <div class="col-sm-10 genero">
            <input type="text" class="form-control" id="tipolibro" formControlName="tipolibro"
              [ngClass]="{'is-valid' : f.tipolibro.dirty && !(f.tipolibro.errors?.required || f.tipolibro.errors?.minlength) }">
              <input type="text" class="form-control" id="genero" formControlName="genero" readonly>
            <div *ngIf="f.tipolibro.dirty && f.tipolibro.errors?.required" class="text-danger">
              Se debe introducir un género
            </div>
          </div>
        </div>
        <button type="button" class="btn btn-success" id="botonProducto" (click)="openModal()">
          Buscar Género
        </button>
  
        <div class="row mb-3 justify-content-center">
          <div class="d-grid gap-2 d-md-block mt-3 d-md-flex justify-content-md-center">
            <button type="submit" class="btn btn-warning" [disabled]="oForm.invalid || oForm.pristine"><i [ngClass]="oIconService.getIcon('ok')"></i> Crear
              el nuevo {{strTitleSingular}}</button>
          </div>
        </div>
  
      </form>
  
  
      <div class="d-grid gap-2 d-md-block d-md-flex justify-content-md-center">
         
          <a class="btn btn-primary mx-2" [routerLink]="['/' + strEntity + '/plist']"><i
              [ngClass]="oIconService.getIcon('plist')"></i> Listado de {{strTitlePlural}}</a>
          
        </div>
     
  
    </div>
  </div>
